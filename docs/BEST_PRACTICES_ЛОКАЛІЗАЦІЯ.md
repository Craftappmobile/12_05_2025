# Найкращі практики локалізації та роботи з Unicode в React Native

## Основні причини проблем з кодуванням

1. **Неправильне кодування файлів**: Файли не зберігаються в UTF-8
2. **Копіювання тексту з неправильних джерел**: Копіювання з PDF, форматованого тексту
3. **Подвійне екранування символів**: `\Т` замість `\Т`
4. **Пряме використання Unicode-кодів**: Замість `'Текст'` використовується `'\Т\е\к\с\т'`

## Рекомендовані практики

### 1. Правильне зберігання файлів

- Завжди використовуйте кодування **UTF-8 без BOM**
- У VS Code: Внизу праворуч є позначення кодування - переконайтесь що відображається "UTF-8"
- Для існуючих файлів: File → Save with Encoding → UTF-8

### 2. Правильна робота з текстом

- **ЗАВЖДИ** використовуйте пряме введення символів:

```javascript
// ✅ Правильно
const text = "Привіт, світ!";

// ❌ Неправильно
const text = "\П\р\и\в\і\т, \с\в\і\т!";
```

### 3. Відокремлення текстових рядків

- Виділяйте текстові рядки в окремі змінні або об'єкти:

```javascript
// ✅ Краща практика
const strings = {
  title: "Розрахуй і В'яжи",
  subtitle: "Програма для в'язальників",
  button: "Продовжити"
};

// Використання:
<Text>{strings.title}</Text>
```

### 4. Копіювання тексту

- Не копіюйте текст з PDF-файлів напряму в код
- Уникайте копіювання з Ворд-документів, розмітки HTML, тощо
- Якщо потрібно скопіювати, спочатку вставте в простий текстовий редактор (Notepad)

### 5. Використання i18n для локалізації

- Розгляньте використання бібліотеки `react-i18next` для керування перекладами
- Зберігайте всі рядки в окремих JSON-файлах перекладів

```javascript
// locales/uk/common.json
{
  "welcome": "Вітаємо в додатку",
  "calculate": "Розрахувати"
}

// Використання:
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();
  
  return <Text>{t('welcome')}</Text>;
}
```

### 6. Швидкі перевірки при проблемах з кодуванням

- Додайте цей код для перевірки правильності відображення тексту:

```javascript
const debugText = "Тестовий текст";
console.log("Тестовий текст:", debugText);
console.log("Довжина тексту:", debugText.length); // Має бути 13
console.log("Перший символ (код):", debugText.charCodeAt(0)); // Має бути 1058 для 'Т'
```

## Що робити, якщо Unicode відображається неправильно

1. Перевірте кодування файлу (UTF-8)
2. Використовуйте `String.fromCharCode()` для тестування:
   ```javascript
   // Перевірте, чи правильно відображається:
   const test = String.fromCharCode(1058, 1077, 1089, 1090); // "Тест"
   ```
3. Очистіть кеш Metro:
   ```bash
   fix-metro-cache.bat
   # або
   npm start -- --reset-cache
   ```

## Корисні інструменти

- [i18next](https://www.i18next.com/) - бібліотека для інтернаціоналізації
- [Online Unicode Converter](https://www.branah.com/unicode-converter) - для перевірки Unicode
- [VS Code extension: i18n Ally](https://marketplace.visualstudio.com/items?itemName=lokalise.i18n-ally) - допомагає керувати перекладами
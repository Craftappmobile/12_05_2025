# Функціонал нотаток для проєкту "Розрахуй і В'яжи"

## Огляд

Функціонал нотаток дозволяє користувачам додавати та редагувати детальні нотатки до своїх проєктів в'язання. Нотатки підтримують багатий форматований текст, вставку зображень та відео з YouTube.

## Компоненти

### 1. NoteEditor

Компонент редактора нотаток з багатим форматуванням (rich-text editor).

**Основні можливості:**
- Форматування тексту (жирний, курсив, списки)
- Вставка зображень з локальної галереї
- Вставка відео з YouTube
- Зберігання нотаток в локальній базі даних (WatermelonDB)

**Використання:**
```jsx
<NoteEditor
  projectId="project-id"
  initialContent="<p>Початковий вміст</p>"
  onSave={(content) => { /* Обробник збереження */ }}
  onCancel={() => { /* Обробник скасування */ }}
/>
```

### 2. NotesViewer

Компонент для перегляду форматованих нотаток.

**Основні можливості:**
- Відображення HTML вмісту нотаток
- Підтримка офлайн-режиму для YouTube відео (заглушки)
- Обробка посилань для відкриття в браузері

**Використання:**
```jsx
<NotesViewer
  content="<p>HTML вміст нотаток</p>"
  onEdit={() => { /* Функція для переходу в режим редагування */ }}
  isLoading={false}
/>
```

### 3. ProjectNotesTab

Компонент для вкладки "Нотатки" на екрані деталей проєкту.

**Основні можливості:**
- Завантаження та відображення нотаток проєкту
- Перемикання між режимами перегляду та редагування
- Збереження нотаток в локальній базі даних

**Використання:**
```jsx
<ProjectNotesTab
  projectId="project-id"
  onRefresh={() => { /* Функція для оновлення даних проєкту */ }}
/>
```

## Структура даних

Нотатки зберігаються в таблиці `notes` бази даних WatermelonDB:

```typescript
class Note extends Model {
  static table = 'notes';
  
  static associations = {
    projects: { type: 'belongs_to', key: 'project_id' },
  };

  @text('title') title!: string;
  @text('content') content!: string;
  @relation('projects', 'project_id') project!: any;
  @readonly @date('created_at') createdAt!: Date;
  @readonly @date('updated_at') updatedAt!: Date;
}
```

## Офлайн-підтримка

Нотатки підтримують офлайн-режим:

1. **Зображення** зберігаються локально в папці проєкту
2. **YouTube відео** відображаються як заглушки з можливістю відкриття при наявності мережі
3. **Синхронізація** з сервером відбувається автоматично при підключенні до мережі

## Рекомендації з використання

- Використовуйте нотатки для детального опису процесу в'язання
- Додавайте фото прогресу проєкту безпосередньо в нотатки
- Використовуйте YouTube для вставки відео-інструкцій
- Структуруйте нотатки за розділами використовуючи заголовки та списки

## Плани з розвитку

- [ ] Додати можливість вставки схем в'язання
- [ ] Додати підтримку тегів та пошуку по нотатках
- [ ] Реалізувати версіонування нотаток
- [ ] Додати шаблони нотаток для різних типів проєктів